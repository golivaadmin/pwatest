webpackJsonp([31],{457:function(n,l,e){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,6,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.setStore(n.context.$implicit)&&t}return t},w.b,w.a)),a["ɵdid"](1,1097728,null,3,R.a,[k.a,_.a,a.ElementRef,a.Renderer,[2,S.a]],null,null),a["ɵqud"](335544320,1,{contentLabel:0}),a["ɵqud"](603979776,2,{_buttons:1}),a["ɵqud"](603979776,3,{_icons:1}),a["ɵdid"](5,16384,null,0,E.a,[],null,null),(n()(),a["ɵted"](6,2,["\n            ","\n        "]))],null,function(n,l){n(l,6,0,l.context.$implicit.name)})}function u(n){return a["ɵvid"](0,[a["ɵpid"](0,L.a,[]),(n()(),a["ɵeld"](1,0,null,null,14,"ion-header",[],null,null,null,null,null)),a["ɵdid"](2,16384,null,0,T.a,[_.a,a.ElementRef,a.Renderer,[2,x.a]],null,null),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](4,0,null,null,4,"h2",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["Selecciona"])),(n()(),a["ɵted"](-1,null,[" en qué tienda estás"])),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](10,0,null,null,4,"ion-searchbar",[["placeholder","Buscar"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.searchText=e)&&t}return t},D.b,D.a)),a["ɵdid"](11,671744,null,0,F.i,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,F.g,null,[F.i]),a["ɵdid"](13,16384,null,0,F.h,[F.g],null,null),a["ɵdid"](14,1294336,null,0,M.a,[_.a,P.a,a.ElementRef,a.Renderer,[2,F.g]],{placeholder:[0,"placeholder"]},null),(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵted"](-1,null,["\n\n"])),(n()(),a["ɵeld"](17,0,null,null,10,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,O.b,O.a)),a["ɵdid"](18,4374528,null,0,A.a,[_.a,P.a,G.a,a.ElementRef,a.Renderer,V.a,q.a,a.NgZone,[2,x.a],[2,I.a]],null,null),(n()(),a["ɵted"](-1,1,["\n    "])),(n()(),a["ɵeld"](20,0,null,1,6,"ion-list",[],null,null,null,null,null)),a["ɵdid"](21,16384,null,0,B.a,[_.a,a.ElementRef,a.Renderer,P.a,N.l,G.a],null,null),(n()(),a["ɵted"](-1,null,["\n\t\t"])),(n()(),a["ɵand"](16777216,null,null,2,null,t)),a["ɵdid"](24,802816,null,0,z.k,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),a["ɵppd"](25,2),(n()(),a["ɵted"](-1,null,["\n      \n    "])),(n()(),a["ɵted"](-1,1,["\n"])),(n()(),a["ɵted"](-1,null,["\n\n"])),(n()(),a["ɵeld"](29,0,null,null,6,"ion-footer",[],null,null,null,null,null)),a["ɵdid"](30,16384,null,0,$.a,[_.a,a.ElementRef,a.Renderer,[2,x.a]],null,null),(n()(),a["ɵted"](-1,null,["\n     "])),(n()(),a["ɵeld"](32,0,null,null,2,"button",[["block",""],["ion-button",""],["red",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.activaGeo()&&t}return t},j.b,j.a)),a["ɵdid"](33,1097728,null,0,H.a,[[8,""],_.a,a.ElementRef,a.Renderer],{block:[0,"block"]},null),(n()(),a["ɵted"](-1,0,["Activar geolocalización"])),(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵted"](-1,null,[" \n"]))],function(n,l){var e=l.component;n(l,11,0,e.searchText);n(l,14,0,"Buscar");n(l,24,0,a["ɵunv"](l,24,0,n(l,25,0,a["ɵnov"](l,0),e.storeList,e.searchText)));n(l,33,0,"")},function(n,l){n(l,10,1,[a["ɵnov"](l,13).ngClassUntouched,a["ɵnov"](l,13).ngClassTouched,a["ɵnov"](l,13).ngClassPristine,a["ɵnov"](l,13).ngClassDirty,a["ɵnov"](l,13).ngClassValid,a["ɵnov"](l,13).ngClassInvalid,a["ɵnov"](l,13).ngClassPending,a["ɵnov"](l,14)._animated,a["ɵnov"](l,14)._value,a["ɵnov"](l,14)._isActive,a["ɵnov"](l,14)._showCancelButton,a["ɵnov"](l,14)._shouldAlignLeft,a["ɵnov"](l,14)._isFocus]);n(l,17,0,a["ɵnov"](l,18).statusbarPadding,a["ɵnov"](l,18)._hasRefresher)})}Object.defineProperty(l,"__esModule",{value:!0});var a=e(0),o=(e(1),e(11),e(16),e(10)),i=(e(66),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,a){function o(n){try{r(t.next(n))}catch(n){a(n)}}function i(n){try{r(t.throw(n))}catch(n){a(n)}}function r(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,i)}r((t=t.apply(n,l||[])).next())})}),r=this&&this.__generator||function(n,l){function e(e){return function(o){return function(e){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,u&&(a=u[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(u,e[1])).done)return a;switch(u=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return i.label++,{value:e[1],done:!1};case 5:i.label++,u=e[1],e=[0];continue;case 7:e=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(6===e[0]||2===e[0])){i=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){i.label=e[1];break}if(6===e[0]&&i.label<a[1]){i.label=a[1],a=e;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(e);break}a[2]&&i.ops.pop(),i.trys.pop();continue}e=l.call(n,i)}catch(n){e=[6,n],u=0}finally{t=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var t,u,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},s=function(){function n(n,l,e,t,u,a,o,i,r){var s=this;this.navCtrl=n,this.navParams=l,this.viewCtrl=e,this.platform=t,this.persistence=u,this.config=a,this.store=o,this.analytics=i,this.event=r,this.storeDistance=null,this.storeScan=null,this.storeList=null,this.keyTutorial=null;var c=a.getValue("STORE_KEYS");this.storeDistance=c.storeDistance,this.storeScan=c.storeScanGo,this.keyTutorial=c.showQrTutorial,this.event.subscribe("sod:geo-modals-close",function(n){s.viewCtrl.dismiss()})}return n.prototype.ionViewCanEnter=function(){this.analytics.trackView("Lector/SeleccionManual"),this.init()},n.prototype.activaGeo=function(){return i(this,void 0,void 0,function(){return r(this,function(n){return this.event.publish("sod:geo-modals-close"),[2]})})},n.prototype.setStore=function(n){return i(this,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return console.log("setStore"),console.log(n),[4,this.persistence.setData(this.storeScan,n)];case 1:return l.sent(),[4,this.store.setCurrentStore(n.id)];case 2:return l.sent(),this.analytics.trackEvent("SetStore",n.name),this.event.publish("sod:geo-modals-close"),[2]}})})},n.prototype.init=function(){return i(this,void 0,void 0,function(){var n,l;return r(this,function(e){switch(e.label){case 0:return[4,this.persistence.getData(this.storeDistance)];case 1:return n=e.sent(),console.log(n.items),l=[],n.items.forEach(function(n){n.name.includes("Homy")||l.push(n)}),this.storeList=l,console.log(this.storeList),[2]}})})},n}(),c=e(128),d=function(){return function(){}}(),h=e(278),f=e(279),p=e(280),v=e(281),m=e(282),g=e(283),b=e(284),y=e(285),C=e(286),w=e(133),R=e(22),k=e(18),_=e(2),S=e(49),E=e(71),L=e(311),T=e(129),x=e(5),D=e(301),F=e(17),M=e(96),P=e(4),O=e(287),A=e(29),G=e(9),V=e(8),q=e(31),I=e(24),B=e(58),N=e(6),z=e(13),$=e(192),j=e(32),H=e(21),J=e(15),K=e(27),Q=e(37),U=e(47),Y=e(55),Z=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),W=a["ɵccf"]("page-tiendas-geo",s,function(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"page-tiendas-geo",[],null,null,null,u,Z)),a["ɵdid"](1,49152,null,0,s,[I.a,J.a,x.a,P.a,K.a,o.a,Q.a,U.a,Y.a],null,null)],null,null)},{},{},[]),X=e(188),nn=e(23),ln=e(54);e.d(l,"TiendasGeoPageModuleNgFactory",function(){return en});var en=a["ɵcmf"](d,[],function(n){return a["ɵmod"]([a["ɵmpd"](512,a.ComponentFactoryResolver,a["ɵCodegenComponentFactoryResolver"],[[8,[h.a,f.a,p.a,v.a,m.a,g.a,b.a,y.a,C.a,W]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["ɵmpd"](4608,z.n,z.m,[a.LOCALE_ID,[2,z.z]]),a["ɵmpd"](4608,F.n,F.n,[]),a["ɵmpd"](4608,F.c,F.c,[]),a["ɵmpd"](4608,z.c,z.c,[a.LOCALE_ID]),a["ɵmpd"](512,z.b,z.b,[]),a["ɵmpd"](512,F.l,F.l,[]),a["ɵmpd"](512,F.d,F.d,[]),a["ɵmpd"](512,F.k,F.k,[]),a["ɵmpd"](512,X.a,X.a,[]),a["ɵmpd"](512,X.b,X.b,[]),a["ɵmpd"](512,nn.h,nn.h,[]),a["ɵmpd"](512,c.a,c.a,[]),a["ɵmpd"](512,d,d,[]),a["ɵmpd"](256,ln.a,s,[])])})}});