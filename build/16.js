webpackJsonp([16],{432:function(l,n,t){"use strict";function e(l){return a["ɵvid"](0,[a["ɵqud"](402653184,1,{contentEl:0}),(l()(),a["ɵeld"](1,0,[[1,0],["content",1]],null,3,"div",[],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,[" "])),a["ɵncd"](null,0),(l()(),a["ɵted"](-1,null,[" "]))],null,null)}function u(l){return a["ɵvid"](0,[(l()(),a["ɵeld"](0,0,null,null,27,"div",[["class","ubicacion"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,["\n\t\t"])),(l()(),a["ɵeld"](2,0,null,null,24,"ion-grid",[["class","grid"]],null,null,null,null,null)),a["ɵdid"](3,16384,null,0,Y.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t"])),(l()(),a["ɵeld"](5,0,null,null,20,"ion-row",[["class","row"]],null,null,null,null,null)),a["ɵdid"](6,16384,null,0,M.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵeld"](8,0,null,null,6,"ion-col",[["align-items-center",""],["class","col"],["col-2",""]],null,null,null,null,null)),a["ɵdid"](9,16384,null,0,T.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](11,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),a["ɵeld"](12,0,null,null,1,"ion-icon",[["name","ios-pin-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](13,147456,null,0,X.a,[k.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t\n\t\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵeld"](16,0,null,null,8,"ion-col",[["class","col"],["col-10",""]],null,null,null,null,null)),a["ɵdid"](17,16384,null,0,T.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](19,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),a["ɵted"](20,null,["",""])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](22,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),a["ɵted"](23,null,["Pasillo ",""])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\n\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t"]))],function(l,n){l(n,13,0,"ios-pin-outline")},function(l,n){var t=n.component;l(n,12,0,a["ɵnov"](n,13)._hidden);l(n,20,0,t.name);l(n,23,0,t.aisle)})}function i(l){return a["ɵvid"](0,[(l()(),a["ɵeld"](0,0,null,null,1,"flex-loading",[],null,null,null,L.b,L.a)),a["ɵdid"](1,49152,null,0,D.a,[P.a,_.a,B.k],null,null)],null,null)}function o(l){return a["ɵvid"](0,[(l()(),a["ɵeld"](0,0,null,null,37,"div",[["class","colores"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,["\n\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t"])),(l()(),a["ɵeld"](3,0,null,null,33,"ion-grid",[["class","grid"]],null,null,null,null,null)),a["ɵdid"](4,16384,null,0,Y.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t"])),(l()(),a["ɵeld"](6,0,null,null,29,"ion-row",[["class","row"]],null,null,null,null,null)),a["ɵdid"](7,16384,null,0,M.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵeld"](9,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](10,16384,null,0,T.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](12,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),a["ɵeld"](13,0,null,null,1,"span",[["class","yellow"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,["    "])),(l()(),a["ɵted"](-1,null,[" Construcción"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵeld"](18,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](19,16384,null,0,T.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](21,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),a["ɵeld"](22,0,null,null,1,"span",[["class","blue"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,["    "])),(l()(),a["ɵted"](-1,null,[" Hogar"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵeld"](27,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](28,16384,null,0,T.a,[],null,null),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t\t"])),(l()(),a["ɵeld"](30,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),a["ɵeld"](31,0,null,null,1,"span",[["class","green"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,null,["    "])),(l()(),a["ɵted"](-1,null,[" Jardín"])),(l()(),a["ɵted"](-1,null,["\n\t\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\n\t\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t\t"])),(l()(),a["ɵted"](-1,null,["\n\t"]))],null,null)}function s(l){return a["ɵvid"](0,[a["ɵqud"](402653184,1,{element:0}),a["ɵqud"](402653184,2,{elementParent:0}),a["ɵqud"](402653184,3,{canvasEl:0}),(l()(),a["ɵeld"](3,0,null,null,8,"ion-header",[],null,null,null,null,null)),a["ɵdid"](4,16384,null,0,S.a,[k.a,a.ElementRef,a.Renderer,[2,z.a]],null,null),(l()(),a["ɵted"](-1,null,["\n\t"])),(l()(),a["ɵeld"](6,0,null,null,1,"toolbar",[["btnBack","true"],["title","Mapa de Tienda"]],null,[[null,"onBack"]],function(l,n,t){var e=!0;if("onBack"===n){e=!1!==l.component.closeModal()&&e}return e},N.b,N.a)),a["ɵdid"](7,638976,null,0,x.a,[O.a,V.a,B.k,W.a,A.a,j.a,G.a,q.a,K.a,F.a,$.a,U.a,Z.a,J.a,Q.a,ll.a,nl.a,tl.a,el.a,ul.a,il.a],{title:[0,"title"],btnBack:[1,"btnBack"]},{onBack:"onBack"}),(l()(),a["ɵted"](-1,null,["\n\t"])),(l()(),a["ɵand"](16777216,null,null,1,null,u)),a["ɵdid"](10,16384,null,0,ol.l,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),a["ɵted"](-1,null,["\n"])),(l()(),a["ɵted"](-1,null,["\n\n"])),(l()(),a["ɵeld"](13,0,null,null,14,"ion-content",[["class","scroll-back"],["scrollX","true"],["scrollY","false"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,sl.b,sl.a)),a["ɵdid"](14,4374528,null,0,al.a,[k.a,j.a,rl.a,a.ElementRef,a.Renderer,U.a,dl.a,a.NgZone,[2,z.a],[2,P.a]],null,null),(l()(),a["ɵted"](-1,1,["\n\n\t"])),(l()(),a["ɵted"](-1,1,["\n\t\n\t\n\t"])),(l()(),a["ɵeld"](17,0,null,1,0,"canvas",[["class","canvas"],["crossOrigin","Anonymous"],["id","myCanvas"]],null,null,null,null,null)),(l()(),a["ɵted"](-1,1,["\n\n\t"])),(l()(),a["ɵand"](16777216,null,1,1,null,i)),a["ɵdid"](20,16384,null,0,ol.l,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),a["ɵted"](-1,1,["\n\n\t"])),(l()(),a["ɵeld"](22,0,null,1,4,"pinch-zoom",[],[[4,"display",null],[4,"overflow",null],[4,"height",null]],[["window","resize"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(l,n,t){var e=!0;if("window:resize"===n){e=!1!==a["ɵnov"](l,23).onResize(t)&&e}if("touchstart"===n){e=!1!==a["ɵnov"](l,23).touchstartHandler(t)&&e}if("touchmove"===n){e=!1!==a["ɵnov"](l,23).touchmoveHandler(t)&&e}if("touchend"===n){e=!1!==a["ɵnov"](l,23).touchendHandler(t)&&e}return e},e,cl)),a["ɵdid"](23,114688,null,0,p.PinchZoomComponent,[a.ElementRef],null,null),(l()(),a["ɵted"](-1,0,["\n\t\t"])),(l()(),a["ɵeld"](25,0,null,0,0,"img",[["crossOrigin","Anonymous"]],[[8,"src",4]],null,null,null,null)),(l()(),a["ɵted"](-1,0,["\n\t"])),(l()(),a["ɵted"](-1,1,["\n\n\t\n\t\n"])),(l()(),a["ɵted"](-1,null,["\n\n"])),(l()(),a["ɵeld"](29,0,null,null,5,"ion-footer",[],null,null,null,null,null)),a["ɵdid"](30,16384,null,0,hl.a,[k.a,a.ElementRef,a.Renderer,[2,z.a]],null,null),(l()(),a["ɵted"](-1,null,["\n\t"])),(l()(),a["ɵand"](16777216,null,null,1,null,o)),a["ɵdid"](33,16384,null,0,ol.l,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),a["ɵted"](-1,null,["\n"]))],function(l,n){var t=n.component;l(n,7,0,"Mapa de Tienda","true");l(n,10,0,null!=t.aisle&&!1!==t.isLoading);l(n,20,0,!1===t.isLoading),l(n,23,0);l(n,33,0,!0===t.isLoading)},function(l,n){var t=n.component;l(n,13,0,a["ɵnov"](n,14).statusbarPadding,a["ɵnov"](n,14)._hasRefresher);l(n,22,0,a["ɵnov"](n,23).hostDisplay,a["ɵnov"](n,23).hostOverflow,a["ɵnov"](n,23).hostHeight);l(n,25,0,a["ɵinlineInterpolate"](1,"",t.src,""))})}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),r=(t(1),t(11),t(16)),d=t(205),c=(t(66),this&&this.__awaiter||function(l,n,t,e){return new(t||(t=Promise))(function(u,i){function o(l){try{a(e.next(l))}catch(l){i(l)}}function s(l){try{a(e.throw(l))}catch(l){i(l)}}function a(l){l.done?u(l.value):new t(function(n){n(l.value)}).then(o,s)}a((e=e.apply(l,n||[])).next())})}),h=this&&this.__generator||function(l,n){function t(t){return function(o){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,u&&(i=u[2&t[0]?"return":t[0]?"throw":"next"])&&!(i=i.call(u,t[1])).done)return i;switch(u=0,i&&(t=[0,i.value]),t[0]){case 0:case 1:i=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){s.label=t[1];break}if(6===t[0]&&s.label<i[1]){s.label=i[1],i=t;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(t);break}i[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(l,s)}catch(l){t=[6,l],u=0}finally{e=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,o])}}var e,u,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},m=function(){function l(l,n,t,e,u,i,o,s,a,r,d){var c=this;this.navCtrl=l,this.navParams=n,this.http=t,this.viewCtrl=e,this.event=u,this.vibration=i,this.zone=o,this._store=s,this.platform=a,this.toastCtrl=r,this.alertCtrl=d,this.aisle=null,this.X_GAP=35,this.Y_GAP=70,this.isLoading=!1,this.image=null,this.container=null,this.transforms=[],this.adjustScale=1,this.adjustDeltaX=0,this.adjustDeltaY=0,this.currentScale=null,this.currentDeltaX=null,this.currentDeltaY=null,this.src=null,this.mediaLoaded=!1,this.setMediaLoaded=function(){setTimeout(function(){return c.mediaLoaded=!0},200)},this.media=this.navParams.get("media")}return l.prototype.vibrate=function(){return c(this,void 0,void 0,function(){return h(this,function(l){try{this.vibration.vibrate([2e3,1e3,2e3,1e3,2e3])}catch(l){}return[2]})})},l.prototype.getData=function(){return c(this,void 0,void 0,function(){var l,n,t;return h(this,function(e){switch(e.label){case 0:return l=this,[4,this.zone.getCountry()];case 1:return l.country=e.sent(),[4,this._store.getCurrentStore()];case 2:return n=e.sent(),console.log(n),this.store=n.storeId,this.name=n.info.name,t=this.navParams.get("aisle"),console.log("aisle"),console.log(t),null!=t&&void 0!=t&&(this.aisle=t),console.log(this.country),console.log(this.store),this.getSrcImg(this.country,this.store),[2]}})})},l.prototype.endLoad=function(l){return c(this,void 0,void 0,function(){return h(this,function(n){return this.src=l,this.isLoading=!0,[2]})})},l.prototype.getSrcImg=function(l,n){return c(this,void 0,void 0,function(){var t,e,u,i,o,s,a,d,c,m;return h(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),t="https://web-mapas-tiendas.azurewebsites.net/api/StoreMap/GetStoreMapInfo?countryCode="+l+"&storeId="+n,e=new r.a(encodeURI(t),"GET",!1,!0,1800),console.log("urlMap"),console.log(t),[4,this.http.makeCall(e)];case 1:return u=h.sent(),i="https://web-mapas-tiendas.azurewebsites.net"+u.MapUrl,console.log(i),[4,new Promise(function(l){return setTimeout(l,2e3)})];case 2:return h.sent(),o=document.getElementById("myCanvas"),s=o.getContext("2d"),a=this.alertCtrl,d=new Image,d.src=i,d.crossOrigin="Anonymous",c=this,d.onload=function(){console.log("on load");var l=d.height;o.width=d.width,o.height=l,s.drawImage(d,0,0);var n=null;console.log(u.KeyPointList),console.log("context.aisle"),console.log(c.aisle);for(var t=0;t<u.KeyPointList.length;t++)if(u.KeyPointList[t].Value===""+c.aisle){n=u.KeyPointList[t];break}if(console.log("data"),console.log(n),null!=n)s.arc(n.X+c.X_GAP,n.Y+c.Y_GAP,45,0,2*Math.PI,!1),s.fillStyle="red",s.fill(),s.lineWidth=10,s.strokeStyle="#003300",s.stroke(),c.isLoading=!0;else if(null!=c.aisle){a.create({message:"Puedes consultar con un vendedor en tienda, para confirmar ubicación.",title:"Producto no encontrado",buttons:["Aceptar"]}).present()}var e=o.toDataURL();c.endLoad(e)},[3,4];case 3:return m=h.sent(),this.isLoading=!0,console.log(m),[3,4];case 4:return[2]}})})},l.prototype.ionViewDidLoad=function(){this.init()},l.prototype.init=function(){return c(this,void 0,void 0,function(){return h(this,function(l){switch(l.label){case 0:return[4,this.getData()];case 1:return l.sent(),[2]}})})},l.prototype.closeModal=function(){try{this.viewCtrl.dismiss()}catch(l){console.log("Err on back -> ",l),this.navCtrl.pop()}},l}(),f=t(187),p=t(607),g=function(){return function(){}}(),v=t(278),y=t(279),b=t(280),w=t(281),C=t(282),R=t(283),E=t(284),I=t(285),H=t(286),Y=t(136),M=t(134),T=t(135),X=t(30),k=t(2),L=t(460),D=t(288),P=t(24),_=t(15),B=t(23),S=t(129),z=t(5),N=t(290),x=t(132),O=t(27),V=t(48),W=t(67),A=t(70),j=t(4),G=t(90),q=t(87),K=t(10),F=t(56),$=t(55),U=t(8),Z=t(69),J=t(57),Q=t(47),ll=t(88),nl=t(68),tl=t(89),el=t(36),ul=t(33),il=t(91),ol=t(13),sl=t(287),al=t(29),rl=t(9),dl=t(31),cl=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),hl=t(192),ml=t(62),fl=t(190),pl=t(37),gl=t(95),vl=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),yl=a["ɵccf"]("page-map",m,function(l){return a["ɵvid"](0,[(l()(),a["ɵeld"](0,0,null,null,1,"page-map",[],null,null,null,s,vl)),a["ɵdid"](1,49152,null,0,m,[P.a,_.a,ml.a,z.a,$.a,d.a,fl.a,pl.a,j.a,gl.a,J.a],null,null)],null,null)},{},{},[]),bl=t(17),wl=t(188),Cl=t(128),Rl=t(54);t.d(n,"MapPageModuleNgFactory",function(){return El});var El=a["ɵcmf"](g,[],function(l){return a["ɵmod"]([a["ɵmpd"](512,a.ComponentFactoryResolver,a["ɵCodegenComponentFactoryResolver"],[[8,[v.a,y.a,b.a,w.a,C.a,R.a,E.a,I.a,H.a,yl]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["ɵmpd"](4608,ol.n,ol.m,[a.LOCALE_ID,[2,ol.z]]),a["ɵmpd"](4608,bl.n,bl.n,[]),a["ɵmpd"](4608,bl.c,bl.c,[]),a["ɵmpd"](4608,ol.c,ol.c,[a.LOCALE_ID]),a["ɵmpd"](512,ol.b,ol.b,[]),a["ɵmpd"](512,bl.l,bl.l,[]),a["ɵmpd"](512,bl.d,bl.d,[]),a["ɵmpd"](512,bl.k,bl.k,[]),a["ɵmpd"](512,wl.a,wl.a,[]),a["ɵmpd"](512,wl.b,wl.b,[]),a["ɵmpd"](512,B.h,B.h,[]),a["ɵmpd"](512,Cl.a,Cl.a,[]),a["ɵmpd"](512,f.a,f.a,[]),a["ɵmpd"](512,g,g,[]),a["ɵmpd"](256,Rl.a,m,[])])})},460:function(l,n,t){"use strict";function e(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](2,0,null,null,3,"div",[["class","image"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](4,0,null,null,0,"img",[["src","assets/imgs/preloader.gif"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](7,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](9,0,null,null,2,"div",[["class","message"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n                "])),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](13,0,null,null,2,"div",[["class","legend"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n                "])),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵted"](-1,null,["\n    "]))],null,function(l,n){var t=n.component;l(n,9,0,t.title);l(n,13,0,t.legend)})}function u(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,0,"img",[["class","imgErr"],["src","assets/imgs/errors/no-service.png"]],null,null,null,null,null))],null,null)}function i(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,0,"img",[["class","imgErr"],["src","assets/imgs/errors/no-internet-connection.jpg"]],null,null,null,null,null))],null,null)}function o(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,2,"button",[["block",""],["ion-button",""],["red-outline",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.retry()&&e}return e},d.b,d.a)),r["ɵdid"](1,1097728,null,0,c.a,[[8,""],h.a,r.ElementRef,r.Renderer],{block:[0,"block"]},null),(l()(),r["ɵted"](-1,0,["Reintentar"]))],function(l,n){l(n,1,0,"")},null)}function s(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,12,"div",[["id","errorEvent"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵand"](16777216,null,null,1,null,u)),r["ɵdid"](3,16384,null,0,m.l,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](6,16384,null,0,m.l,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](8,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵand"](16777216,null,null,1,null,o)),r["ɵdid"](11,16384,null,0,m.l,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n    "]))],function(l,n){var t=n.component;l(n,3,0,"TimeoutError"===t.error.type);l(n,6,0,"ConnectionError"===t.error.type);l(n,11,0,t.error.retry)},function(l,n){l(n,8,0,n.component.error.message)})}function a(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,9,"div",[["class","loading"]],null,null,null,null,null)),r["ɵdid"](1,278528,null,0,m.j,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["ɵpod"](2,{flexError:0}),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵand"](16777216,null,null,1,null,e)),r["ɵdid"](5,16384,null,0,m.l,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵand"](16777216,null,null,1,null,s)),r["ɵdid"](8,16384,null,0,m.l,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n"]))],function(l,n){var t=n.component;l(n,1,0,"loading",l(n,2,0,null!==t.error));l(n,5,0,null===t.error);l(n,8,0,null!==t.error)},null)}t.d(n,"a",function(){return f}),n.b=a;var r=t(0),d=t(32),c=t(21),h=t(2),m=t(13),f=r["ɵcrt"]({encapsulation:2,styles:[],data:{}})},607:function(l,n,t){!function(l,e){e(n,t(0))}(0,function(l,n){"use strict";l.PinchZoomComponent=function(){function l(l){this.elementRef=l,this.scale=1,this.initialScale=1,this.moveX=0,this.moveY=0,this.initialMoveX=0,this.initialMoveY=0,this.tagName=this.elementRef.nativeElement.tagName.toLowerCase()}return l.prototype.ngOnInit=function(){this.elem=this.contentEl.nativeElement,this.parentElem=this.elem.parentNode,this.setBasicStyles()},l.prototype.onResize=function(l){this.transformElem(200)},l.prototype.touchstartHandler=function(l){this.elem.style.transformOrigin="0 0"},l.prototype.touchmoveHandler=function(l){var n=l.touches;(1===n.length&&this.scale>1&&!this.eventType||"swipe"==this.eventType)&&(l.preventDefault(),this.eventType||(this.startX=l.touches[0].pageX,this.startY=l.touches[0].pageY),this.eventType="swipe",this.moveX=this.initialMoveX+(l.touches[0].pageX-this.startX),this.moveY=this.initialMoveY+(l.touches[0].pageY-this.startY),this.transformElem(0)),(2===n.length&&!this.eventType||"pinch"==this.eventType)&&(l.preventDefault(),this.eventType||(this.initialDistance=this.getDistance(n),this.moveXC=(l.touches[0].pageX+l.touches[1].pageX)/2-this.initialMoveX,this.moveYC=(l.touches[0].pageY+l.touches[1].pageY)/2-this.initialMoveY),this.eventType="pinch",this.distance=this.getDistance(n),this.scale=this.initialScale*(this.distance/this.initialDistance),this.moveX=this.initialMoveX-(this.distance/this.initialDistance*this.moveXC-this.moveXC),this.moveY=this.initialMoveY-(this.distance/this.initialDistance*this.moveYC-this.moveYC),this.transformElem(0))},l.prototype.touchendHandler=function(l){var n=l.touches,t=this.elem.getElementsByTagName("img")[0];if(this.scale<1&&(this.scale=1),this.moveY>0&&(this.moveY=0),t&&this.scale>1){var e=this.getImageHeight(),u=this.getImageWidth(),i=(e-this.elem.offsetHeight)*this.scale/2;e*this.scale<this.parentElem.offsetHeight?this.moveY=(this.parentElem.offsetHeight-this.elem.offsetHeight*this.scale)/2:u*this.scale<this.parentElem.offsetWidth?this.moveX=(this.parentElem.offsetWidth-this.elem.offsetWidth*this.scale)/2:"swipe"==this.eventType&&(this.moveY>i?this.moveY=i:e*this.scale+Math.abs(i)-this.parentElem.offsetHeight+this.moveY<0&&(this.moveY=-(e*this.scale+Math.abs(i)-this.parentElem.offsetHeight)))}this.moveX>0?this.moveX=0:this.moveX<this.elem.offsetWidth*(1-this.scale)&&(this.moveX=this.elem.offsetWidth*(1-this.scale)),this.initialScale=this.scale,this.initialMoveX=this.moveX,this.initialMoveY=this.moveY,this.transformElem(200),this.eventType="touchend",0==n.length&&(this.eventType="")},l.prototype.getDistance=function(l){return Math.sqrt(Math.pow(l[0].pageX-l[1].pageX,2)+Math.pow(l[0].pageY-l[1].pageY,2))},l.prototype.getImageHeight=function(){return this.elem.getElementsByTagName("img")[0].offsetHeight},l.prototype.getImageWidth=function(){return this.elem.getElementsByTagName("img")[0].offsetWidth},l.prototype.setBasicStyles=function(){this.elem.style.display="flex",this.elem.style.height="100%",this.elem.style.alignItems="center",this.elem.style.justifyContent="center",this.hostDisplay="block",this.hostOverflow="hidden",this.hostHeight=this.containerHeight,this.setImageWidth()},l.prototype.setImageWidth=function(){var l=this.elem.getElementsByTagName("img");l.length&&(l[0].style.maxWidth="100%",l[0].style.maxHeight="100%")},l.prototype.transformElem=function(l){void 0===l&&(l=50),this.elem.style.transition="all "+l+"ms",this.elem.style.transform="matrix("+Number(this.scale)+",0,0,"+Number(this.scale)+","+Number(this.moveX)+","+Number(this.moveY)+")"},l.decorators=[{type:n.Component,args:[{selector:"pinch-zoom, [pinch-zoom]",template:"<div #content> <ng-content></ng-content> </div>"}]}],l.ctorParameters=function(){return[{type:n.ElementRef}]},l.propDecorators={containerHeight:[{type:n.Input,args:["height"]}],hostDisplay:[{type:n.HostBinding,args:["style.display"]}],hostOverflow:[{type:n.HostBinding,args:["style.overflow"]}],hostHeight:[{type:n.HostBinding,args:["style.height"]}],contentEl:[{type:n.ViewChild,args:["content"]}],onResize:[{type:n.HostListener,args:["window:resize",["$event"]]}],touchstartHandler:[{type:n.HostListener,args:["touchstart",["$event"]]}],touchmoveHandler:[{type:n.HostListener,args:["touchmove",["$event"]]}],touchendHandler:[{type:n.HostListener,args:["touchend",["$event"]]}]},l}(),Object.defineProperty(l,"__esModule",{value:!0})})}});